{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///Users/Fufu/booking/fish-booking-system/app/api/summary/route.ts"],"sourcesContent":["// app/api/summary/route.ts\n\nimport { NextResponse } from \"next/server\";\nimport { PrismaClient } from \"@prisma/client\";\n\nconst prisma = new PrismaClient();\n\nexport async function GET() {\n  try {\n    const bookings = await prisma.booking.findMany();\n\n    const summary = bookings.map((booking) => {\n      const totalQuantity = booking.dailyQuantities\n        ? Object.values(booking.dailyQuantities).reduce((sum, qty) => sum + Number(qty), 0)\n        : 0;\n\n      return {\n        code: booking.code,\n        customerName: booking.customerName,\n        team: booking.team,\n        fishSize: booking.fishSize,\n        totalQuantity,\n        weekNumber: booking.weekNumber,\n        createdAt: booking.createdAt, // ส่งวันที่สร้างด้วย\n      };\n    });\n\n    return NextResponse.json(summary, { status: 200 });\n  } catch (error) {\n    console.error(\"Error fetching summary:\", error);\n    return NextResponse.json({ error: \"Failed to fetch summary\" }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;AAE3B;AACA;;;AAEA,MAAM,SAAS,IAAI,2GAAA,CAAA,eAAY;AAExB,eAAe;IACpB,IAAI;QACF,MAAM,WAAW,MAAM,OAAO,OAAO,CAAC,QAAQ;QAE9C,MAAM,UAAU,SAAS,GAAG,CAAC,CAAC;YAC5B,MAAM,gBAAgB,QAAQ,eAAe,GACzC,OAAO,MAAM,CAAC,QAAQ,eAAe,EAAE,MAAM,CAAC,CAAC,KAAK,MAAQ,MAAM,OAAO,MAAM,KAC/E;YAEJ,OAAO;gBACL,MAAM,QAAQ,IAAI;gBAClB,cAAc,QAAQ,YAAY;gBAClC,MAAM,QAAQ,IAAI;gBAClB,UAAU,QAAQ,QAAQ;gBAC1B;gBACA,YAAY,QAAQ,UAAU;gBAC9B,WAAW,QAAQ,SAAS;YAC9B;QACF;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,SAAS;YAAE,QAAQ;QAAI;IAClD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA0B,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACF"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}