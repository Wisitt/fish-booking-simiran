{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/Fufu/booking/fish-booking-system/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\";\nimport Sidebar from \"./components/Sidebar\";\nimport BookingForm from \"./components/BookingForm\";\nimport BookingList from \"./components/BookingList\";\nimport Modal from \"./components/Modal\";\nimport SummaryTable from \"./components/SummaryTable\";\n\nconst SECRET_CODES = [\"edok\", \"dogfuse\", \"wisit\"];\n\ninterface Booking {\n  id: number;\n  code:string;\n  team: string;\n  customerGroup: string;\n  customerName: string;\n  price: string;\n  dailyQuantities: Record<string, number>;\n  fishSize: string;\n  fishType: string;\n}\n\nconst Home = () => {\n  const [bookings, setBookings] = useState<Booking[]>([]);\n  const [editingBooking, setEditingBooking] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [code, setCode] = useState(\"\");\n\n  useEffect(() => {\n    const fetchBookings = async () => {\n      try {\n        const response = await fetch(\"/api/bookings\");\n        if (!response.ok) throw new Error(\"Failed to fetch bookings\");\n\n        const data = await response.json();\n        setBookings(data);\n      } catch (error) {\n        console.error(\"Error fetching bookings:\", error);\n      }\n    };\n\n    fetchBookings();\n  }, []);\n\n  const handleDelete = async (id: number) => {\n    setShowModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setShowModal(false);\n    setCode(\"\");\n  };\n\n  const handleCodeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setCode(e.target.value);\n  };\n\n  const handleConfirmDelete = async () => {\n    if (SECRET_CODES.includes(code)) {\n      // Handle delete request\n    } else {\n      alert(\"Incorrect code.\");\n    }\n  };\n\n  const handleEdit = (booking: any) => {\n    setEditingBooking(booking);\n  };\n\n  const clearEditingBooking = () => {\n    setEditingBooking(null);\n  };\n\n  const downloadExcel = async () => {\n    try {\n      const response = await fetch(\"/api/export/excel\");\n      if (!response.ok) throw new Error(\"Failed to download file\");\n\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.setAttribute(\"download\", \"Fish_Booking_Report.xlsx\");\n      document.body.appendChild(link);\n      link.click();\n      link.parentNode?.removeChild(link);\n    } catch (error) {\n      console.error(\"Error downloading Excel:\", error);\n      alert(\"Failed to download Excel file.\");\n    }\n  };\n\n  return (\n    <div className=\"flex\">\n      <Sidebar />\n      <div className=\"flex-1 p-6\">\n        <h1 className=\"text-4xl font-bold mb-8 text-center text-blue-600\">\n          Fish Booking System\n        </h1>\n\n        <BookingForm setBookings={setBookings} editingBooking={editingBooking} clearEditingBooking={clearEditingBooking} />\n\n        <h2 className=\"text-2xl font-semibold mt-10 mb-4 text-blue-500\">All Bookings</h2>\n        <BookingList bookings={bookings} handleEdit={setEditingBooking} handleDelete={handleDelete} />\n\n        <div id=\"summary\" className=\"mt-10\">\n          <h2 className=\"text-2xl font-semibold mb-4 text-blue-500\">Booking Summary</h2>\n          <SummaryTable/>\n        </div>\n\n        <div id=\"export\" className=\"mt-10\">\n          <h2 className=\"text-2xl font-semibold mb-4 text-blue-500\">Export to Excel</h2>\n          <button onClick={downloadExcel} className=\"bg-green-500 text-white px-4 py-2 rounded\">Export to Excel</button>\n        </div>\n\n        {showModal && (\n          <Modal showModal={showModal} handleCloseModal={handleCloseModal} handleConfirmDelete={handleConfirmDelete} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASA,MAAM,eAAe;IAAC;IAAQ;IAAW;CAAQ;AAcjD,MAAM,OAAO;IACX,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACtD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,gBAAgB;YACpB,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM;gBAC7B,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;gBAElC,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,YAAY;YACd,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,4BAA4B;YAC5C;QACF;QAEA;IACF,GAAG,EAAE;IAEL,MAAM,eAAe,OAAO;QAC1B,aAAa;IACf;IAEA,MAAM,mBAAmB;QACvB,aAAa;QACb,QAAQ;IACV;IAEA,MAAM,mBAAmB,CAAC;QACxB,QAAQ,EAAE,MAAM,CAAC,KAAK;IACxB;IAEA,MAAM,sBAAsB;QAC1B,IAAI,aAAa,QAAQ,CAAC,OAAO;QAC/B,wBAAwB;QAC1B,OAAO;YACL,MAAM;QACR;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,kBAAkB;IACpB;IAEA,MAAM,sBAAsB;QAC1B,kBAAkB;IACpB;IAEA,MAAM,gBAAgB;QACpB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAC7B,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;YAElC,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,MAAM,MAAM,OAAO,GAAG,CAAC,eAAe,CAAC;YACvC,MAAM,OAAO,SAAS,aAAa,CAAC;YACpC,KAAK,IAAI,GAAG;YACZ,KAAK,YAAY,CAAC,YAAY;YAC9B,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,KAAK,KAAK;YACV,KAAK,UAAU,EAAE,YAAY;QAC/B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,MAAM;QACR;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,6HAAA,CAAA,UAAO;;;;;0BACR,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAoD;;;;;;kCAIlE,8OAAC,iIAAA,CAAA,UAAW;wBAAC,aAAa;wBAAa,gBAAgB;wBAAgB,qBAAqB;;;;;;kCAE5F,8OAAC;wBAAG,WAAU;kCAAkD;;;;;;kCAChE,8OAAC,iIAAA,CAAA,UAAW;wBAAC,UAAU;wBAAU,YAAY;wBAAmB,cAAc;;;;;;kCAE9E,8OAAC;wBAAI,IAAG;wBAAU,WAAU;;0CAC1B,8OAAC;gCAAG,WAAU;0CAA4C;;;;;;0CAC1D,8OAAC,kIAAA,CAAA,UAAY;;;;;;;;;;;kCAGf,8OAAC;wBAAI,IAAG;wBAAS,WAAU;;0CACzB,8OAAC;gCAAG,WAAU;0CAA4C;;;;;;0CAC1D,8OAAC;gCAAO,SAAS;gCAAe,WAAU;0CAA4C;;;;;;;;;;;;oBAGvF,2BACC,8OAAC,2HAAA,CAAA,UAAK;wBAAC,WAAW;wBAAW,kBAAkB;wBAAkB,qBAAqB;;;;;;;;;;;;;;;;;;AAKhG;uCAEe"}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///Users/Fufu/booking/fish-booking-system/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAQzC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1CJ,OAAOC,OAAO,GAAGC,QAAQ;QAC3B,OAAO,IAAIL,QAAQC,GAAG,CAACO,SAAS,EAAE;;QAIlC;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":["file:///Users/Fufu/booking/fish-booking-system/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 250, "column": 0}, "map": {"version":3,"sources":["file:///Users/Fufu/booking/fish-booking-system/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].React\n"],"names":["module","exports","require","vendored","React"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CAAC,YAAY,CAACC,KAAK","ignoreList":[0]}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}