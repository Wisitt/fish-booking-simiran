{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/Fufu/booking/fish-booking-system/app/components/BookingForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport dynamic from \"next/dynamic\";\n\nconst Select = dynamic(() => import(\"react-select\"), { ssr: false });\n\ninterface Booking {\n  id: number;\n  team: string;\n  customerGroup: string;\n  customerName: string;\n  price: Record<string, number>;\n  dailyQuantities: Record<string, number>;\n  fishSize: string;\n  fishType: string;\n}\n\ninterface FormData {\n  team: string;\n  customerGroup: string;\n  customerName: string;\n  fishSize: string;\n  fishType: string;\n  price: Record<string, number>;\n  dailyQuantities: Record<string, number>;\n}\n\ninterface BookingFormProps {\n  setBookings: React.Dispatch<React.SetStateAction<Booking[]>>;\n}\n\nconst BookingForm: React.FC<BookingFormProps> = ({ setBookings }) => {\n  const getWeekDays = (): string[] => {\n    const startDate = new Date();\n    const days: string[] = [];\n    for (let i = 1; i <= 6; i++) {\n      const date = new Date(startDate);\n      date.setDate(startDate.getDate() + (i - startDate.getDay() + 1));\n      days.push(date.toISOString().split(\"T\")[0]);\n    }\n    return days;\n  };\n\n  const fishSizeOptions = [\n    { value: \"Small\", label: \"Small\" },\n    { value: \"Medium\", label: \"Medium\" },\n    { value: \"Large\", label: \"Large\" },\n  ];\n\n  const fishTypeOptions = [\n    { value: \"Tilapia\", label: \"Tilapia\" },\n    { value: \"Catfish\", label: \"Catfish\" },\n    { value: \"Salmon\", label: \"Salmon\" },\n  ];\n\n  const [formData, setFormData] = useState<FormData>({\n    team: \"\",\n    customerGroup: \"\",\n    customerName: \"\",\n    fishSize: \"Medium\",\n    fishType: \"Tilapia\",\n    price: {},\n    dailyQuantities: {},\n  });\n\n  useEffect(() => {\n    const weekDays = getWeekDays();\n    setFormData((prev) => ({\n      ...prev,\n      price: weekDays.reduce((acc, day) => ({ ...acc, [day]: 0 }), {}),\n      dailyQuantities: weekDays.reduce((acc, day) => ({ ...acc, [day]: 0 }), {}),\n    }));\n  }, []);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    if (name.startsWith(\"day-\")) {\n      const day = name.replace(\"day-\", \"\");\n      setFormData((prev) => ({\n        ...prev,\n        dailyQuantities: { ...prev.dailyQuantities, [day]: Number(value) },\n      }));\n    } else if (name.startsWith(\"price-\")) {\n      const day = name.replace(\"price-\", \"\");\n      setFormData((prev) => ({\n        ...prev,\n        price: { ...prev.price, [day]: Number(value) },\n      }));\n    } else {\n      setFormData((prev) => ({ ...prev, [name]: value }));\n    }\n  };\n\n  const handleSelectChange = (field: \"fishSize\" | \"fishType\", option: any) => {\n    setFormData((prev) => ({ ...prev, [field]: option.value }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!formData.team || !formData.customerGroup || !formData.customerName) {\n      alert(\"Please fill in all required fields.\");\n      return;\n    }\n\n    try {\n      const response = await fetch(\"/api/bookings\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(formData),\n      });\n\n      if (!response.ok) throw new Error(\"Failed to save booking\");\n\n      const newBooking = await response.json();\n      setBookings((prev) => [...prev, newBooking]);\n      alert(\"Booking saved!\");\n    } catch (error) {\n      console.error(\"Error saving booking:\", error);\n      alert(\"Error saving booking.\");\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <h1 className=\"text-xl font-bold\">Add New Booking</h1>\n      <div>\n        <label>Team:</label>\n        <input\n          type=\"text\"\n          name=\"team\"\n          value={formData.team}\n          onChange={handleChange}\n          className=\"border rounded px-2 py-1\"\n        />\n      </div>\n      <div>\n        <label>Customer Group:</label>\n        <input\n          type=\"text\"\n          name=\"customerGroup\"\n          value={formData.customerGroup}\n          onChange={handleChange}\n          className=\"border rounded px-2 py-1\"\n        />\n      </div>\n      <div>\n        <label>Customer Name:</label>\n        <input\n          type=\"text\"\n          name=\"customerName\"\n          value={formData.customerName}\n          onChange={handleChange}\n          className=\"border rounded px-2 py-1\"\n        />\n      </div>\n      <div>\n        <label>Fish Size:</label>\n        <Select\n          options={fishSizeOptions}\n          value={fishSizeOptions.find((opt) => opt.value === formData.fishSize)}\n          onChange={(option) => handleSelectChange(\"fishSize\", option)}\n        />\n      </div>\n      <div>\n        <label>Fish Type:</label>\n        <Select\n          options={fishTypeOptions}\n          value={fishTypeOptions.find((opt) => opt.value === formData.fishType)}\n          onChange={(option) => handleSelectChange(\"fishType\", option)}\n        />\n      </div>\n\n      <h2>Daily Quantities & Prices</h2>\n      {Object.keys(formData.dailyQuantities).map((day) => (\n        <div key={day} className=\"grid grid-cols-2 gap-4 items-center\">\n          <div>\n            <label>{day} (Quantity):</label>\n            <input\n              type=\"number\"\n              name={`day-${day}`}\n              value={formData.dailyQuantities[day]}\n              onChange={handleChange}\n              className=\"border rounded px-2 py-1\"\n            />\n          </div>\n          <div>\n            <label>{day} (Price):</label>\n            <input\n              type=\"number\"\n              name={`price-${day}`}\n              value={formData.price[day]}\n              onChange={handleChange}\n              className=\"border rounded px-2 py-1\"\n            />\n          </div>\n        </div>\n      ))}\n\n      <button type=\"submit\" className=\"bg-blue-500 text-white px-4 py-2 rounded\">\n        Save\n      </button>\n    </form>\n  );\n};\n\nexport default BookingForm;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 394, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 400, "column": 0}, "map": {"version":3,"sources":["file:///Users/Fufu/booking/fish-booking-system/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport BookingForm from \"./components/BookingForm\";\n\ninterface Booking {\n  id: number;\n  team: string;\n  customerGroup: string;\n  customerName: string;\n  price: Record<string, number>;\n  dailyQuantities: Record<string, number>;\n  fishSize: string;\n  fishType: string;\n}\n\nconst Home = () => {\n  const [bookings, setBookings] = useState<Booking[]>([]);\n\n  useEffect(() => {\n    const fetchBookings = async () => {\n      try {\n        const response = await fetch(\"/api/bookings\");\n        if (!response.ok) throw new Error(\"Failed to fetch bookings\");\n\n        const data: Booking[] = await response.json();\n        setBookings(data);\n      } catch (error) {\n        console.error(\"Error fetching bookings:\", error);\n      }\n    };\n\n    fetchBookings();\n  }, []);\n\n  const handleDelete = async (id: number) => {\n    try {\n      const response = await fetch(`/api/bookings?id=${id}`, {\n        method: \"DELETE\",\n      });\n\n      if (!response.ok) throw new Error(\"Failed to delete booking\");\n\n      setBookings((prev) => prev.filter((booking) => booking.id !== id));\n      alert(\"Booking deleted successfully!\");\n    } catch (error) {\n      console.error(\"Error deleting booking:\", error);\n      alert(\"Error deleting booking.\");\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <h1 className=\"text-4xl font-bold mb-8 text-center text-blue-600\">\n        Fish Booking System\n      </h1>\n\n      <BookingForm setBookings={setBookings} />\n\n      <h2 className=\"text-2xl font-semibold mt-10 mb-4 text-blue-500\">\n        All Bookings\n      </h2>\n      <ul className=\"space-y-4\">\n        {bookings.map((booking) => (\n          <li\n            key={booking.id}\n            className=\"border p-4 rounded-lg shadow-md bg-gray-50 flex flex-col space-y-4\"\n          >\n            <div className=\"font-bold text-lg text-blue-700\">Team: {booking.team}</div>\n            <div className=\"text-gray-600\">Customer: {booking.customerName}</div>\n            <div className=\"text-gray-600\">Fish Size: {booking.fishSize}</div>\n            <div className=\"text-gray-600\">Fish Type: {booking.fishType}</div>\n            <div className=\"text-gray-600\">Price Per Day:</div>\n            <ul className=\"grid grid-cols-2 gap-2\">\n              {Object.entries(booking.price || {}).map(([day, price]) => (\n                <li key={day} className=\"text-gray-600\">\n                  {day}: {price} THB\n                </li>\n              ))}\n            </ul>\n            <div className=\"text-gray-600\">Daily Quantities:</div>\n            <ul className=\"grid grid-cols-2 gap-2\">\n              {Object.entries(booking.dailyQuantities || {}).map(([day, qty]) => (\n                <li key={day} className=\"text-gray-600\">\n                  {day}: {qty} fish\n                </li>\n              ))}\n            </ul>\n            <button\n              onClick={() => handleDelete(booking.id)}\n              className=\"bg-red-500 text-white px-4 py-2 rounded mt-4\"\n            >\n              Delete\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Home;\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAgBA,MAAM,OAAO;;IACX,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IAEtD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE;YACR,MAAM;gDAAgB;oBACpB,IAAI;wBACF,MAAM,WAAW,MAAM,MAAM;wBAC7B,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;wBAElC,MAAM,OAAkB,MAAM,SAAS,IAAI;wBAC3C,YAAY;oBACd,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,4BAA4B;oBAC5C;gBACF;;YAEA;QACF;yBAAG,EAAE;IAEL,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,iBAAiB,EAAE,IAAI,EAAE;gBACrD,QAAQ;YACV;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;YAElC,YAAY,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,UAAY,QAAQ,EAAE,KAAK;YAC9D,MAAM;QACR,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,MAAM;QACR;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAoD;;;;;;0BAIlE,6LAAC,oIAAA,CAAA,UAAW;gBAAC,aAAa;;;;;;0BAE1B,6LAAC;gBAAG,WAAU;0BAAkD;;;;;;0BAGhE,6LAAC;gBAAG,WAAU;0BACX,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;wBAEC,WAAU;;0CAEV,6LAAC;gCAAI,WAAU;;oCAAkC;oCAAO,QAAQ,IAAI;;;;;;;0CACpE,6LAAC;gCAAI,WAAU;;oCAAgB;oCAAW,QAAQ,YAAY;;;;;;;0CAC9D,6LAAC;gCAAI,WAAU;;oCAAgB;oCAAY,QAAQ,QAAQ;;;;;;;0CAC3D,6LAAC;gCAAI,WAAU;;oCAAgB;oCAAY,QAAQ,QAAQ;;;;;;;0CAC3D,6LAAC;gCAAI,WAAU;0CAAgB;;;;;;0CAC/B,6LAAC;gCAAG,WAAU;0CACX,OAAO,OAAO,CAAC,QAAQ,KAAK,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,iBACpD,6LAAC;wCAAa,WAAU;;4CACrB;4CAAI;4CAAG;4CAAM;;uCADP;;;;;;;;;;0CAKb,6LAAC;gCAAI,WAAU;0CAAgB;;;;;;0CAC/B,6LAAC;gCAAG,WAAU;0CACX,OAAO,OAAO,CAAC,QAAQ,eAAe,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,iBAC5D,6LAAC;wCAAa,WAAU;;4CACrB;4CAAI;4CAAG;4CAAI;;uCADL;;;;;;;;;;0CAKb,6LAAC;gCACC,SAAS,IAAM,aAAa,QAAQ,EAAE;gCACtC,WAAU;0CACX;;;;;;;uBA1BI,QAAQ,EAAE;;;;;;;;;;;;;;;;AAkC3B;GAnFM;KAAA;uCAqFS"}},
    {"offset": {"line": 610, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}